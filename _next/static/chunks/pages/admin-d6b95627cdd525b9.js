(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(7807)}])},7807:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return AdminWithdrawPanel}});var s=t(5893),d=t(7294);function AdminWithdrawPanel(){let[e,n]=(0,d.useState)([]);(0,d.useEffect)(()=>{fetch("/api/withdraw").then(e=>e.json()).then(e=>n(e)).catch(e=>console.error("API error:",e))},[]);let handleAction=async(e,t)=>{try{let s=await fetch("/api/withdraw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:t})});s.ok&&(n(n=>n.map(n=>n.id===e?{...n,status:"approve"===t?"approved":"rejected"}:n)),console.log("✔ ".concat(e," ").concat(t," edildi.")))}catch(e){console.error("İşlem hatası:",e)}};return(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Withdraw Talepleri"}),(0,s.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("li",{className:"border p-4 rounded-md",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"ID:"})," ",e.id]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Kullanıcı:"})," ",e.userId]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Miktar:"})," ",e.amount," ",e.token]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Adres:"})," ",e.address]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Durum:"})," ",e.status]}),"pending"===e.status&&(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>handleAction(e.id,"approve"),className:"bg-green-500 text-white px-4 py-1 rounded",children:"Onayla"}),(0,s.jsx)("button",{onClick:()=>handleAction(e.id,"reject"),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Reddet"})]})]},e.id))})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);